# 第四章 更多的bash shell命令

## 4.1 检测程序

### 探查进程

ps命令支持三种不同风格的参数：

- Unix风格：加单破折线
- BSD风格：不加破折线
- GNU风格：加双破折线

每种风格的参数都很多，下面举常用的例子

#### Unix风格

```
ps -ef
```

-e表示输出所有进程，-f表示输出完整信息。每列的意义：

- UID：启动进程的用户
- PID：进程id
- PPID：父进程id
- C：进程生命周期中的CPU利用率
- STIME：启动进程时的系统时间
- TTY：启动进程时的终端设备
- TIME：运行进程需要的累计CPU时间
- CMD：启动的程序名称

如果还想获得更多信息，可以使用-f参数。多输出的列的意义：

- F：内核分配给进程的系统标记
- S：进程的状态（O正在运行，S在休眠，R可运行正等待运行，Z僵尸状态，T停止）
- PRI：优先级，数字越小优先级越高
- NI：谦让度（nice值）设置之后：PRI(new)=PRI(old)+nice。
- ADDR：进程的内存地址
- SZ：进程被换出，所需交换空间大小
- WCHAN：值为0代表进程处于运行态；否则代表内核地址(休眠态)

> 僵尸进程是指完成执行但在操作系统的进程表中仍然有一个表项，处于"终止状态"的进程。