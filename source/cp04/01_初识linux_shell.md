# 第一章 初识Linux shell

## 1.1 什么是linux

linux可以划分为以下四部分：

- Linux内核
- GNU工具
- 图形化桌面环境
- 应用软件

### linux内核

Linux内核主要负责的功能：

- 内存管理
- 进程管理
- 硬件设备管理
- 文件系统管理

#### 内存管理

内核通过硬盘上的存储空间来实现虚拟内存，这块空间称为交换空间。内存存储单元按组划分成很多块，称为页面。内核会记录那些内存页面正在使用中。并自动把一段时间未访问的内存页面复制到交换空间区域。

#### 进程管理

内核创建的第一个进程（init进程）启动系统上的其他进程。一些Linux发行版用一个表来管理系统在开机时要自动启动的进程。如ubuntu在/etc/init.d目录中，存放着启动脚本。这些脚本通过/etc/rcX.d目录下的入入口启动。（这些入口就是到/etc/init.d目录下脚本的符号链接，X是运行级别）

Linux有5个运行级别：

- 1：单用户模式，只启动基本的系统进程及一个控制台终端进程。
- 3：标准运行级别
- 5：会启动图形化系统。

#### 硬件设备管理

任何linux系统需要与之通信的设备，都需要在内核代码中加入其驱动程序代码，加入的两种方式：

- 编译进内核。早起只能重新编译。
- 模块化插入。允许将驱动代码插入到运营中的内核而无需重新编译。得益于内核模块的概念。

linux将硬件设备当做特殊的文件，称为设备文件，有三种：

- 字符型设备文件：每次只能处理一个字符。如大多数调制解调器、终端等。
- 块设备文件：每次能处理大块设备。如硬盘。
- 网络设备文件：采用数据包发送和接收数据的设备。包括网卡和一个特殊的回环设备，这个回环设备允许linux使用常见的网络协议与自身通信。

#### 文件系统管理

linux支持ext、nfs等文件系统。linux内核采用虚拟文件系统（virtual file system, VFS）作为和每个文件系统交互的接口。

### GNU工具与shell

shell包含一组内建命令。除此之外也可以在命令行中输入程序名称来启动程序。所有linux发行版默认的shell都是bash shell。shell是GNU核心工具集的一部分。

### 图形化桌面环境

X Windows图形用户接口，它并不是一个软件，而是一个协议（protocal）。至于GNOME、KDE和X-Window之间的关系，可以简单地认为GNOME和KDE是并列关系，它们都是基于X-Window的桌面环境，通过X-Window其才能运行。

