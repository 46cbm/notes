# 12 使用结构化命令

## 12.1 if, then, else, elif及其嵌套

bash会运行if后面的command。如果该命令的状态码是0（即成功执行），则进入then，否则进入else。

## 12.2 test命令

如果我们要在if后面跟其他内容，可以容test命令。

```bash
test condition
```

test命令后面的条件如果成立，则其返回0，if进入then。否则进入else。除了test命令外，还有一种更简单的写法

```bash
if [ condition ]; then
    commands
fi
```

注意第一个方括号之后和第二个方括号之前有一个空格，不然会报错。

test命令支持三类判断：

- 数值比较
- 字符串比较
- 文件比较

### 数值比较

|比较|描述|
|:-|:-|
|n1 -eq n2| n1 == n2|
|n1 -ge n2| n1 >= n2|
|n1 -gt n2| n1 > n2|
|n1 -le n2| n1 <= n2|
|n1 -lt n2| n1 < n2|
|n1 -ne n2| n1 != n2|

bash shell只能处理整数，在test比较中用哪个浮点数会报错。

### 字符串比较

|比较|描述|
|:-|:-|
|str1 = str1| str1和str2相同 |
|str1 != str2| str1和str2不相同|
|str1 < str2| str1比str2小|
|str1 > str2| str1比str2大|
|-n str1|str1的长度是否为非0|
|-z str1|str1的长度是否为0|

如果你觉得本笔记对你有所帮助，欢迎转载分享给更多的人。请注明出处哦~
最后欢迎star [github仓库](https://github.com/LeoSirius/notes)
