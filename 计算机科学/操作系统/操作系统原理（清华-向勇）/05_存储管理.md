# 5 存储管理

## 5.1 计算机体系结构/内存层次

### 内存层次

现在CPU中的缓存一般有L1，L2两级，都是硬件实现的。

### 操作系统的内存管理

MMU（存储管理单元）把`物理地址空间`转换为`逻辑地址空间`给进程使用。

MMU需要做的事情：

- 抽象
- 保护：独立的地址空间
- 共享：访问相同的内存
- 虚拟化：更大的地址空间

操作系统中采用的内存管理方式：

- 重定位：如段地址+偏移地址
- 分段：把进程按照自身逻辑分开，如把代码、数据等分开。
- 分页：分段中每段必须还是连续的，但是分页是把内存本身按一定单位来分。

## 5.2 地址空间和地址生成

- 物理地址空间：起始0，直到MAXsys
- 逻辑地址空间：在CPU运行的进程看到的地址，起始0，直到MAXprog

## 5.3 连续内存分配
